/**
 * Tupaia Web
 * Copyright (c) 2021 Beyond Essential Systems Pty Ltd.
 * This source code is licensed under the AGPL-3.0 license
 * found in the LICENSE file in the root directory of this source tree.
 */

import React from 'react';
import PropTypes from 'prop-types';
import styled from 'styled-components';
import { IconButton as MuiIconButton } from '@material-ui/core';
import { DARK_GREY, TUPAIA_ORANGE } from '../../styles';

const IconButton = styled(MuiIconButton)`
  padding: 0;
  path {
    fill: ${props => (props.$isPinned ? TUPAIA_ORANGE : DARK_GREY)};
  }

  &:hover {
    path {
      fill: ${props => (props.$isPinned ? TUPAIA_ORANGE : 'white')};
    }
  }
`;

const StyledSvg = styled.svg`
  width: 12px;
  height: 12px;
`;

export const Pin = React.memo(({ isPinned, onChange }) => {
  return (
    <IconButton $isPinned={isPinned} onClick={onChange}>
      <StyledSvg viewBox="0 0 32 32">
        <path d="M9.17201 21.4141L1.29301 29.2931C0.902006 29.6841 0.902006 30.3161 1.29301 30.7071C1.48801 30.9021 1.74401 31.0001 2.00001 31.0001C2.25601 31.0001 2.51201 30.9021 2.70701 30.7071L10.586 22.8281L9.17201 21.4141Z M30.707 11.293L20.707 1.29301C20.316 0.902006 19.684 0.902006 19.293 1.29301C18.902 1.68401 18.902 2.31601 19.293 2.70701L20.404 3.81801L6.14403 12.73L3.70603 10.292C3.31503 9.90101 2.68303 9.90101 2.29203 10.292C1.90103 10.683 1.90103 11.315 2.29203 11.706L20.292 29.706C20.488 29.902 20.744 30 21 30C21.256 30 21.512 29.902 21.707 29.707C22.098 29.316 22.098 28.684 21.707 28.293L19.269 25.855L28.181 11.595L29.292 12.706C29.488 12.902 29.744 13 30 13C30.256 13 30.512 12.902 30.707 12.707C31.098 12.316 31.098 11.684 30.707 11.293Z" />
      </StyledSvg>
    </IconButton>
  );
});

Pin.propTypes = {
  isPinned: PropTypes.bool.isRequired,
  onChange: PropTypes.func.isRequired,
};
